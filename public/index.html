<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compiler Analyzer</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div class="container">
        <h1>Compiler Analysis</h1>
        
        <div class="editor">
            <!-- Replace the existing <textarea> with this div -->
            <div id="code" style="height: 300px; border: 2px solid #bdc3c7; border-radius: 4px;"></div>
            <div id="error-box" class="error" style="display: none;"></div>

            <button id="compile-btn">
            <span class="spinner" id="spinner" style="display: none;"></span>
            Compile
            </button>

        </div>

        <div class="results">
            <div class="panel">
                <h2>Symbol Table</h2>
                <div class="table-container">
                    <table id="symbol-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Line</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="panel">
                <h2>Parse Tree</h2>
                <div id="ast-visualization"></div>
            </div>
        </div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>
    
    <script>
    require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs' }});
    require(['vs/editor/editor.main'], function() {
        const editor = monaco.editor.create(document.getElementById('code'), {
        value: `int main() {\n    // Your code here\n}`,  // Default code
        language: 'cpp',
        theme: 'vs-dark',
        fontSize: 14,
        lineNumbers: 'on',
        roundedSelection: false,
        scrollBeyondLastLine: false,
        automaticLayout: true,
        tabSize: 4,
        minimap: { enabled: true },
        autoIndent: 'full'
        });

        // Expose editor instance to global scope for script.js
        window.editor = editor;
    });
    </script>
    </script> <script src="script.js"></script>
    
    
</body>
</html>